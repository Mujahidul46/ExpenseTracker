<ng-template #successDeleteTpl>âœ… Expense &quot;{{expenseName}}&quot; deleted successfully!</ng-template> 
<ng-template #failureDeleteTpl>âœ– Failed to delete &quot;{{expenseName}}&quot; expense. Please try again.</ng-template>
<ng-template #successUpdateTpl>âœ… Expense updated successfully!</ng-template>
<ng-template #failureUpdateTpl>âœ– Failed to update expense. Please try again.</ng-template>
<ng-template #successCreateTpl>âœ… Expense &quot;{{expenseName}}&quot; created successfully!</ng-template>
<ng-template #failureCreateTpl>âœ– Failed to create expense. Please try again.</ng-template>

<p>All expenses from database from user 1:</p>

<table>
  <thead>
    <th>Name</th>
    <th>Amount</th>
    <th>Category</th>
    <th>Actions</th>
  </thead>
  <tbody>
    @for (expense of expenses; track expense.id) {
      <tr>
        <td>{{expense.name}}</td>
        <td>{{expense.amount}}</td>
        <td>{{expense.categoryName}}[{{expense.categoryIcon}}]</td>
        <td>
          <button class="update" (click)="updateExpense(expense, successUpdateTpl, failureUpdateTpl)">Update âœï¸</button>
          <button class="delete" (click)="openDeleteModal(expense)">Delete ğŸ—‘ï¸</button>
        </td>
      </tr>
    }
  </tbody>
</table>

<button (click)="createExpense(successCreateTpl, failureCreateTpl)">Create new expense</button>

@if (showDeleteModal) {
  <app-confirmation-modal
    [confirmationMessage]="'Are you sure you want to delete the &quot;' + expenseToDelete?.name + '&quot; expense?'"
    (confirmed)="deleteExpense(expenseToDelete!.id, successDeleteTpl, failureDeleteTpl)"
    (cancelled)="closeDeleteModal()">
  </app-confirmation-modal>
}
